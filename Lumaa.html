<!DOCTYPE html>
<html lang="fr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=no">
<title>Notre Amour - 2 Ans ‚ù§Ô∏è</title>
<style>
* {
margin: 0;
padding: 0;
box-sizing: border-box;
-webkit-tap-highlight-color: transparent;
}

body {
font-family: 'Comic Sans MS', cursive;
background: linear-gradient(45deg, #ff6b9d, #ffa8cc, #ffb3d9, #ff85b3);
background-size: 400% 400%;
animation: gradientShift 8s ease infinite;
overflow: hidden;
height: 100vh;
touch-action: manipulation;
}

@keyframes gradientShift {
0% { background-position: 0% 50%; }
50% { background-position: 100% 50%; }
100% { background-position: 0% 50%; }
}

.game-container {
width: 100vw;
height: 100vh;
position: relative;
overflow: hidden;
}

.header {
position: absolute;
top: 20px;
left: 50%;
transform: translateX(-50%);
z-index: 100;
text-align: center;
color: white;
text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
}

.title {
font-size: 24px;
font-weight: bold;
margin-bottom: 10px;
}

.score {
font-size: 18px;
background: rgba(255,255,255,0.2);
padding: 5px 15px;
border-radius: 20px;
backdrop-filter: blur(10px);
}

.game-area {
width: 100%;
height: 100%;
position: relative;
cursor: pointer;
}

.luma-character {
position: absolute;
bottom: 100px;
left: 50%;
transform: translateX(-50%);
font-size: 60px;
z-index: 50;
transition: all 0.3s ease;
user-select: none;
}

.heart {
position: absolute;
font-size: 30px;
color: #ff1744;
animation: fall 4s linear infinite;
cursor: pointer;
user-select: none;
}

@keyframes fall {
0% {
transform: translateY(-50px) rotate(0deg);
opacity: 1;
}
100% {
transform: translateY(100vh) rotate(360deg);
opacity: 0.5;
}
}

.collected {
animation: collect 0.5s ease-out forwards !important;
}

@keyframes collect {
0% {
transform: scale(1);
opacity: 1;
}
50% {
transform: scale(1.5);
opacity: 0.8;
}
100% {
transform: scale(0);
opacity: 0;
}
}

.message-popup {
position: absolute;
top: 50%;
left: 50%;
transform: translate(-50%, -50%);
background: rgba(255, 255, 255, 0.95);
padding: 30px;
border-radius: 20px;
text-align: center;
color: #d81b60;
font-size: 18px;
font-weight: bold;
box-shadow: 0 10px 30px rgba(0,0,0,0.3);
z-index: 200;
max-width: 90%;
display: none;
}

.floating-text {
position: absolute;
color: #fff;
font-size: 20px;
font-weight: bold;
text-shadow: 2px 2px 4px rgba(0,0,0,0.5);
pointer-events: none;
animation: floatUp 2s ease-out forwards;
}

@keyframes floatUp {
0% {
transform: translateY(0);
opacity: 1;
}
100% {
transform: translateY(-100px);
opacity: 0;
}
}

.controls {
position: absolute;
bottom: 20px;
left: 50%;
transform: translateX(-50%);
display: flex;
gap: 20px;
}

.control-btn {
background: rgba(255,255,255,0.3);
border: none;
color: white;
padding: 15px;
border-radius: 50%;
font-size: 20px;
cursor: pointer;
backdrop-filter: blur(10px);
transition: all 0.3s ease;
touch-action: manipulation;
}

.control-btn:active {
transform: scale(0.95);
background: rgba(255,255,255,0.5);
}

@media (max-width: 480px) {
.title {
font-size: 20px;
}
.score {
font-size: 16px;
}
.luma-character {
font-size: 50px;
bottom: 80px;
}
.heart {
font-size: 25px;
}
.message-popup {
font-size: 16px;
padding: 20px;
}
}
</style>
</head>
<body>
<div class="game-container">
<div class="header">
<div class="title">‚ù§Ô∏è Notre Amour - 2 Ans ‚ù§Ô∏è</div>
<div class="score">Score: <span id="scoreValue">0</span></div>
</div>

<div class="game-area" id="gameArea">
<div class="luma-character" id="luma">ü•∞</div>
</div>

<div class="message-popup" id="messagePopup"></div>

<div class="controls">
<button class="control-btn" onclick="moveLuma(-1)">‚¨ÖÔ∏è</button>
<button class="control-btn" onclick="togglePause()">‚è∏Ô∏è</button>
<button class="control-btn" onclick="moveLuma(1)">‚û°Ô∏è</button>
</div>
</div>

<script>
let score = 0;
let gameRunning = true;
let lumaPosition = 50; // Position en pourcentage
let hearts = [];
let heartSpawnRate = 2000; // millisecondes
let lastHeartSpawn = 0;

const loveMessages = [
"Tu es ma moiti√© ‚ù§Ô∏è",
"2 ans d'amour parfait ! üíï",
"Tu illumines ma vie ‚ú®",
"Mon c≈ìur t'appartient üíñ",
"Ensemble pour l'√©ternit√© üë´",
"Tu es mon soleil ‚òÄÔ∏è",
"L'amour de ma vie üíó",
"Deux ans de bonheur ! üéâ",
"Tu es parfaite pour moi üíù",
"Notre histoire continue ALV ALM üìñ",
"Merci pour ces 2 ann√©es üôè",
"Tu es mon r√™ve devenu r√©alit√© üåü"
];

const lumaExpressions = ['ü•∞', 'üòç', 'üíï', '‚ù§Ô∏è', 'üòò', 'ü§ó', 'üíñ'];
let currentExpression = 0;

const gameArea = document.getElementById('gameArea');
const luma = document.getElementById('luma');
const scoreElement = document.getElementById('scoreValue');
const messagePopup = document.getElementById('messagePopup');

function updateLumaPosition() {
luma.style.left = lumaPosition + '%';
}

function moveLuma(direction) {
if (!gameRunning) return;

lumaPosition += direction * 10;
lumaPosition = Math.max(10, Math.min(90, lumaPosition));
updateLumaPosition();

// Change l'expression de Luma
currentExpression = (currentExpression + 1) % lumaExpressions.length;
luma.textContent = lumaExpressions[currentExpression];
}

function createHeart() {
const heart = document.createElement('div');
heart.className = 'heart';
heart.textContent = '‚ù§Ô∏è';
heart.style.left = Math.random() * 90 + 5 + '%';
heart.style.top = '-50px';

// Animation al√©atoire
const animationDuration = 3 + Math.random() * 2;
heart.style.animationDuration = animationDuration + 's';

gameArea.appendChild(heart);
hearts.push(heart);

// Supprimer le c≈ìur apr√®s l'animation
setTimeout(() => {
if (heart.parentNode && !heart.classList.contains('collected')) {
heart.remove();
hearts = hearts.filter(h => h !== heart);
}
}, animationDuration * 1000);
}

function checkCollisions() {
const lumaRect = luma.getBoundingClientRect();

hearts.forEach(heart => {
if (heart.classList.contains('collected')) return;

const heartRect = heart.getBoundingClientRect();

if (lumaRect.left < heartRect.right &&
lumaRect.right > heartRect.left &&
lumaRect.top < heartRect.bottom &&
lumaRect.bottom > heartRect.top) {

collectHeart(heart);
}
});
}

function collectHeart(heart) {
heart.classList.add('collected');
score += 10;
scoreElement.textContent = score;

// Texte flottant
showFloatingText('+10', heart.getBoundingClientRect().left, heart.getBoundingClientRect().top);

// Message sp√©cial tous les 50 points
if (score % 50 === 0) {
showLoveMessage();
}

// Supprimer le c≈ìur
setTimeout(() => {
if (heart.parentNode) {
heart.remove();
hearts = hearts.filter(h => h !== heart);
}
}, 500);
}

function showFloatingText(text, x, y) {
const floatingText = document.createElement('div');
floatingText.className = 'floating-text';
floatingText.textContent = text;
floatingText.style.left = x + 'px';
floatingText.style.top = y + 'px';

document.body.appendChild(floatingText);

setTimeout(() => {
floatingText.remove();
}, 2000);
}

function showLoveMessage() {
const message = loveMessages[Math.floor(Math.random() * loveMessages.length)];
messagePopup.textContent = message;
messagePopup.style.display = 'block';

setTimeout(() => {
messagePopup.style.display = 'none';
}, 3000);
}

function togglePause() {
gameRunning = !gameRunning;
const pauseBtn = document.querySelector('.control-btn:nth-child(2)');
pauseBtn.textContent = gameRunning ? '‚è∏Ô∏è' : '‚ñ∂Ô∏è';
}

function gameLoop() {
if (!gameRunning) {
requestAnimationFrame(gameLoop);
return;
}

const now = Date.now();

// Spawn hearts
if (now - lastHeartSpawn > heartSpawnRate) {
createHeart();
lastHeartSpawn = now;

// Augmente la difficult√©
if (heartSpawnRate > 800) {
heartSpawnRate -= 5;
}
}

checkCollisions();
requestAnimationFrame(gameLoop);
}

// Contr√¥les tactiles
let touchStartX = 0;

gameArea.addEventListener('touchstart', (e) => {
touchStartX = e.touches[0].clientX;
});

gameArea.addEventListener('touchmove', (e) => {
e.preventDefault();
});

gameArea.addEventListener('touchend', (e) => {
const touchEndX = e.changedTouches[0].clientX;
const diff = touchEndX - touchStartX;

if (Math.abs(diff) > 30) {
moveLuma(diff > 0 ? 1 : -1);
}
});

// Contr√¥les clavier
document.addEventListener('keydown', (e) => {
if (e.key === 'ArrowLeft') {
moveLuma(-1);
} else if (e.key === 'ArrowRight') {
moveLuma(1);
} else if (e.key === ' ') {
e.preventDefault();
togglePause();
}
});

// Clic sur les c≈ìurs
gameArea.addEventListener('click', (e) => {
if (e.target.classList.contains('heart')) {
collectHeart(e.target);
}
});

// Message de bienvenue
setTimeout(() => {
showLoveMessage();
}, 1000);

// D√©marrer le jeu
updateLumaPosition();
gameLoop();
</script>
</body>
</html>